<%# <%= render 'shared/navbar' %>
<%# <script src="./app/javascript/packs/application.js"></script> %>
<!-- TODO: Render header here -->
<!-- The whole 'long' homepage exists within the 'fullpage' div -->

<!-- New html starts here... -->

<div id="fullpage">
  <!-- Landing page -->
  <div class="section" id="section0">
    <!-- hero banner -->
    <div class="hero">
      <img src="https://res.cloudinary.com/fantastic-four/image/upload/v1647078307/landing-banner-desktop-purple_yoytsa.png" alt="Person reaching for credit card">
      <!-- title -->
        <div class="hero-text-container">
          <h1>ChurnIt</h1>
        </div>
    </div>
    <!-- h2 and button -->
    <div class="text-center" id="landing-content">
      <h2 id="demo"></h2>
      <script>
        let i = 0;
        const txt = 'Credit cards made simple.';
        const speed = 60;
        document.addEventListener("load", typeWriter())
        function typeWriter() {
          if (i < txt.length) {
            document.getElementById("demo").innerHTML += txt.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
          }
        }
      </script>
      <div id="landing-content">
        <a href="#anchor1" target="_parent" class="btn btn-white btn- animate">Discover</a>
      </div>
    </div>
  </div>
  <!-- How It Works page -->
	<div class="section" id="section1" data-anchor="anchor1">
    <div class="main">
      <!-- Title -->
        <div>
          <h2 class="text-center text-white">How it works</h2>
        </div>
      <div class="flex-container">
        <!-- Explanations -->
        <div class="content text-center text-white">
          First explanation
        </div>
        <div class="content text-center text-white">
          Second explanation
        </div>
        <div class="content text-center text-white">
          Third explanation
        </div>
        <div>
          Button
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ...and ends here. -->
<% if false %>
<div id="fullpage">
  <!-- Then each'section' within the longer page has a 'section' div -->
	<div class="section" id="section0">
    <div width=100%>
      <div id="img-container">
        <img src="https://res.cloudinary.com/fantastic-four/image/upload/v1647063482/compressed-landing_oaws7y.png" alt="Hand reaching for credit card">
      </div>
      <div class="text-container">
        <h1>ChurnIt</h1>
        <h2 id="demo"></h2>
          <script>
            let i = 0;
            const txt = 'Credit cards made simple.';
            const speed = 60;
            document.addEventListener("load", typeWriter())
            function typeWriter() {
              if (i < txt.length) {
                document.getElementById("demo").innerHTML += txt.charAt(i);
                i++;
                setTimeout(typeWriter, speed);
              }
            }
          </script>
      </div>
    </div>
    <a href="#anchor1" target="_parent" class="btn btn-white btn- animate">Discover</a>
  </div>
  <!-- section 1 how it works -->
	<div class="section" id="section1" data-anchor="anchor1">
    <div class="center-content">
      <h2 class="text-center">How it works</h2>
      <div class="icons">
        <div class="icon">
          <i class="fa-regular fa-credit-card" style="height:100px"></i>
          <h4>Set</h4>
          <p>Tell us which card you have</p>
        </div>
        <div class="icon">
          <i class="fa-solid fa-chart-column" style="height:100px"></i>
          <h4>Compare</h4>
          <p>Compare your card with others</p>
        </div>
        <div class="icon">
          <i class="fa-solid fa-calendar-day" style="height:100px"></i>
          <h4>Churn!</h4>
          <p>Set calendar reminders when to change card</p>
        </div>
      </div>
    </div>
    <div class="how-it-works-button">
      <a href="#anchor2" target="_parent" class="btn btn-white btn- animate">Next</a>
    </div>
  </div>
<!-- NOTE: The 'personalisation' part will be one form. The form will wrap AROUND the four question sections. -->
	<div class="section" id="section2" data-anchor='anchor2'>
    <div class="center-content text-center">
      <h1>What do you look for in a card?</h1>
        <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
        <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>

        <script>
          $( function() {
            $( "#sortable" ).sortable();
          } );
        </script>

          ⬆️ Most important
          <ul id="sortable" style="list-style: none;">
            <li id="fee" class="ui-state-default">Low Annual Card Fee</li>
            <li id="cashback" class="ui-state-default">Cashback</li>
            <li id="reward" class="ui-state-default">Reward Points</li>
            <li id="foreign" class="ui-state-default">Low International Transaction Fee</li>
          </ul>
          ⬇️ Least important

        <div class >
          <a href="#anchor3" target="_parent" class="btn btn-white btn- animate">Next</a>
        </div>
      </div>
    </div>
  <!-- section 3 -->
  <%= form_tag(compare_cards_path, method: :get) do |f| %>
  <div class="section" id="section3" data-anchor='anchor3'>
    <div class="white-centered-text">
      <%= label_tag :income, "What's your annual income?" %>
      <%= text_field_tag :income, '10000' %>
      <a href="#anchor4" target="_parent" class="btn btn-white btn- animate">Next</a>
    </div>
  </div>
  <!-- section 4 -->
  <div class="section" id="section4" data-anchor='anchor4'>
    <div class="black-centered-text">
      <%= label_tag :spending, "What's your monthly spend?" %>
      <%= text_field_tag :spending, '5000' %>
      <a href="#anchor5" target="_parent" class="btn btn-white btn- animate">Next</a>
    </div>
  </div>
  <!-- section 5 -->
	<div class="section" id="section5" data-anchor='anchor5'>
    <div class="white-centered-text">
      <%= label_tag :card_selected, "Do you currently have a credit card?" %>
      <%= select_tag :card_selected, options_for_select(@cards.map {|card| [card.card_name, card.id, { 'data-url' => cards_path(card.id)}]}) %>
      <%= submit_tag 'Continue' %>
      <% end %>
    </div>
  </div>
</div>
<% end %>
<!-- TODO: Render footer here -->
